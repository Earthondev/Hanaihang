
# ğŸ¬ Mall & Store Finder System

à¸£à¸°à¸šà¸šà¸„à¹‰à¸™à¸«à¸²à¸«à¹‰à¸²à¸‡à¸ªà¸£à¸£à¸à¸ªà¸´à¸™à¸„à¹‰à¸²à¹à¸¥à¸°à¸£à¹‰à¸²à¸™à¸„à¹‰à¸²à¸—à¸µà¹ˆà¸à¸±à¸’à¸™à¸²à¸”à¹‰à¸§à¸¢ React + TypeScript + Firebase

## âœ¨ à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œà¸«à¸¥à¸±à¸

### ğŸ‘¨â€ğŸ’¼ à¸ªà¸³à¸«à¸£à¸±à¸šà¸œà¸¹à¹‰à¸”à¸¹à¹à¸¥à¸£à¸°à¸šà¸š (Admin Panel)
- **à¸ˆà¸±à¸”à¸à¸²à¸£à¸«à¹‰à¸²à¸‡à¸ªà¸£à¸£à¸à¸ªà¸´à¸™à¸„à¹‰à¸²**: à¹€à¸à¸´à¹ˆà¸¡ à¹à¸à¹‰à¹„à¸‚ à¸¥à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸«à¹‰à¸²à¸‡
- **à¸ˆà¸±à¸”à¸à¸²à¸£à¸£à¹‰à¸²à¸™à¸„à¹‰à¸²**: à¹€à¸à¸´à¹ˆà¸¡ à¹à¸à¹‰à¹„à¸‚ à¸¥à¸š à¸£à¹‰à¸²à¸™à¸„à¹‰à¸² à¸à¸£à¹‰à¸­à¸¡à¸£à¸°à¸šà¸šà¸—à¸³à¸ªà¸³à¹€à¸™à¸²
- **à¸£à¸°à¸šà¸šà¸„à¹‰à¸™à¸«à¸²à¹à¸¥à¸°à¸à¸£à¸­à¸‡**: à¸„à¹‰à¸™à¸«à¸²à¸£à¹‰à¸²à¸™à¸„à¹‰à¸²à¸•à¸²à¸¡à¸Šà¸·à¹ˆà¸­ à¸«à¹‰à¸²à¸‡ à¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆ
- **à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡**: à¹€à¸à¸´à¹ˆà¸¡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸«à¹‰à¸²à¸‡à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡ 10 à¹à¸«à¹ˆà¸‡à¸”à¹‰à¸§à¸¢à¸›à¸¸à¹ˆà¸¡à¹€à¸”à¸µà¸¢à¸§
- **à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¸Šà¸±à¹‰à¸™**: à¸£à¸°à¸šà¸šà¸Šà¸±à¹‰à¸™à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´ (G, 1, 2, 3, 4, 5)

### ğŸŒ à¸ªà¸³à¸«à¸£à¸±à¸šà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸—à¸±à¹ˆà¸§à¹„à¸› (Public Pages)
- **à¸«à¸™à¹‰à¸²à¸«à¸¥à¸±à¸**: à¸„à¹‰à¸™à¸«à¸²à¸£à¹‰à¸²à¸™à¸„à¹‰à¸²à¹à¸šà¸š Global + à¹ƒà¸Šà¹‰à¸•à¸³à¹à¸«à¸™à¹ˆà¸‡à¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™
- **à¸«à¸™à¹‰à¸²à¸«à¹‰à¸²à¸‡**: à¸”à¸¹à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸«à¹‰à¸²à¸‡ + à¸£à¹‰à¸²à¸™à¸„à¹‰à¸²à¹à¸¢à¸à¸•à¸²à¸¡à¸Šà¸±à¹‰à¸™
- **à¸„à¹‰à¸™à¸«à¸²à¸£à¹‰à¸²à¸™à¸„à¹‰à¸²**: à¸„à¹‰à¸™à¸«à¸²à¹à¸šà¸š Global à¸à¸£à¹‰à¸­à¸¡à¹à¸ªà¸”à¸‡à¸£à¸°à¸¢à¸°à¸—à¸²à¸‡

## ğŸš€ à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡

### 1. Clone Repository
```bash
git clone https://github.com/Earthondev/Hanaihang.git
cd haa-nai-hang
```

### 2. à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ Dependencies
```bash
npm install
```

### 3. à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² Firebase
1. à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¹‡à¸à¸•à¹Œ Firebase à¹ƒà¸«à¸¡à¹ˆ
2. à¹€à¸›à¸´à¸”à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ Firestore Database
3. à¹€à¸›à¸´à¸”à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ Authentication (Email/Password)
4. à¸„à¸±à¸”à¸¥à¸­à¸ Firebase Config à¹„à¸›à¹ƒà¸ªà¹ˆà¹ƒà¸™ `src/config/firebase.ts`

### 4. Deploy Firestore Rules
```bash
npm run deploy:rules
```

### 5. à¸£à¸±à¸™à¹‚à¸›à¸£à¹€à¸ˆà¹‡à¸à¸•à¹Œ
```bash
npm run dev
```

## ğŸ“ à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¹‡à¸à¸•à¹Œ

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ admin/           # à¸„à¸­à¸¡à¹‚à¸à¹€à¸™à¸™à¸•à¹Œà¸ªà¸³à¸«à¸£à¸±à¸š Admin Panel
â”‚   â”‚   â”œâ”€â”€ MallForm.tsx
â”‚   â”‚   â”œâ”€â”€ StoreForm.tsx
â”‚   â”‚   â”œâ”€â”€ MallsTable.tsx
â”‚   â”‚   â””â”€â”€ StoresTable.tsx
â”‚   â””â”€â”€ ui/              # à¸„à¸­à¸¡à¹‚à¸à¹€à¸™à¸™à¸•à¹Œ UI à¸—à¸±à¹ˆà¸§à¹„à¸›
â”œâ”€â”€ config/
â”‚   â””â”€â”€ firebase.ts      # Firebase Configuration
â”œâ”€â”€ contexts/
â”‚   â”œâ”€â”€ AuthContext.tsx  # Authentication Context
â”‚   â””â”€â”€ LocationContext.tsx # Geolocation Context
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ AdminPanel.tsx   # à¸«à¸™à¹‰à¸² Admin Panel
â”‚   â”œâ”€â”€ Login.tsx        # à¸«à¸™à¹‰à¸²à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š
â”‚   â””â”€â”€ ...              # à¸«à¸™à¹‰à¸²à¸­à¸·à¹ˆà¸™à¹†
â”œâ”€â”€ services/
â”‚   â””â”€â”€ firebaseFirestore.ts # Firebase API Functions
â””â”€â”€ types/
    â””â”€â”€ mall-system.ts   # TypeScript Interfaces
```

## ğŸ”¥ Firebase Configuration

### Firestore Collections

#### 1. Malls Collection
```typescript
{
  id: string;                    // Auto-generated
  name: string;                  // Slug (e.g., "central-rama-3")
  displayName: string;           // à¸Šà¸·à¹ˆà¸­à¹à¸ªà¸”à¸‡à¸œà¸¥
  address: string;               // à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆ
  district: string;              // à¹€à¸‚à¸•/à¸­à¸³à¹€à¸ à¸­
  coords: { lat: number; lng: number };
  hours: { open: string; close: string };
  contact: { phone?: string; website?: string };
  createdAt: Timestamp;
  updatedAt: Timestamp;
}
```

#### 2. Stores Collection
```typescript
{
  id: string;                    // Auto-generated
  name: string;                  // à¸Šà¸·à¹ˆà¸­à¸£à¹‰à¸²à¸™à¸„à¹‰à¸²
  category: string;              // à¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆ
  mallId: string;                // Reference to mall
  floorId: string;               // à¸Šà¸±à¹‰à¸™ (G, 1, 2, 3, 4, 5)
  unit: string;                  // à¸¢à¸¹à¸™à¸´à¸•
  phone?: string;                // à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£
  hours?: string;                // à¹€à¸§à¸¥à¸²à¹€à¸›à¸´à¸”-à¸›à¸´à¸”
  status: "Active" | "Maintenance" | "Closed";
  createdAt: Timestamp;
  updatedAt: Timestamp;
}
```

### Security Rules
```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // à¸­à¹ˆà¸²à¸™à¹„à¸”à¹‰à¸—à¸¸à¸à¸„à¸™ à¹€à¸‚à¸µà¸¢à¸™à¹„à¸”à¹‰à¹€à¸‰à¸à¸²à¸°à¸œà¸¹à¹‰à¸—à¸µà¹ˆà¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸šà¹à¸¥à¹‰à¸§
    match /malls/{mallId} {
      allow read: if true;
      allow write: if isSignedIn();
      
      match /floors/{floorId} {
        allow read: if true;
        allow write: if isSignedIn();
      }
      
      match /stores/{storeId} {
        allow read: if true;
        allow write: if isSignedIn() && request.resource.data.mallId == mallId;
      }
    }
    
    match /stores/{storeId} {
      allow read: if true;
      allow write: if isSignedIn();
    }
  }
}
```

## ğŸ› ï¸ API Functions

### Mall Operations
```typescript
// à¸ªà¸£à¹‰à¸²à¸‡à¸«à¹‰à¸²à¸‡à¹ƒà¸«à¸¡à¹ˆ
await firebaseFirestore.createMall(mallData);

// à¸”à¸¶à¸‡à¸£à¸²à¸¢à¸à¸²à¸£à¸«à¹‰à¸²à¸‡à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
const malls = await firebaseFirestore.getMalls();

// à¸­à¸±à¸›à¹€à¸”à¸•à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸«à¹‰à¸²à¸‡
await firebaseFirestore.updateMall(mallId, updates);

// à¸¥à¸šà¸«à¹‰à¸²à¸‡
await firebaseFirestore.deleteMall(mallId);
```

### Store Operations
```typescript
// à¸ªà¸£à¹‰à¸²à¸‡à¸£à¹‰à¸²à¸™à¸„à¹‰à¸²à¹ƒà¸«à¸¡à¹ˆ
await firebaseFirestore.createStore(storeData);

// à¸”à¸¶à¸‡à¸£à¸²à¸¢à¸à¸²à¸£à¸£à¹‰à¸²à¸™à¸„à¹‰à¸²à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
const stores = await firebaseFirestore.getStores();

// à¸„à¹‰à¸™à¸«à¸²à¸£à¹‰à¸²à¸™à¸„à¹‰à¸²à¹à¸šà¸š Global
const results = await firebaseFirestore.searchStoresGlobally(query);

// à¸—à¸³à¸ªà¸³à¹€à¸™à¸²à¸£à¹‰à¸²à¸™à¸„à¹‰à¸²
await firebaseFirestore.duplicateStore(storeId);
```

### Seed Data
```typescript
// à¹€à¸à¸´à¹ˆà¸¡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡ 10 à¸«à¹‰à¸²à¸‡
await firebaseFirestore.seedMalls();
```

## ğŸ¨ UI/UX Design

### Color Scheme
- **Primary**: `#16A34A` (Green)
- **Background**: `#F9FAFB` (Light Gray)
- **Text Primary**: `#111827` (Dark Gray)
- **Text Secondary**: `#4B5563` (Medium Gray)

### Typography
- **Kanit**: à¸ªà¸³à¸«à¸£à¸±à¸šà¸«à¸±à¸§à¸‚à¹‰à¸­ (Font Weight: 600)
- **Prompt**: à¸ªà¸³à¸«à¸£à¸±à¸šà¹€à¸™à¸·à¹‰à¸­à¸«à¸² (Font Weight: 400, 500)

### Components
- **Responsive Design**: à¸£à¸­à¸‡à¸£à¸±à¸šà¸—à¸¸à¸à¸‚à¸™à¸²à¸”à¸«à¸™à¹‰à¸²à¸ˆà¸­
- **Loading States**: Skeleton à¹à¸¥à¸° Spinner
- **Toast Notifications**: à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¸à¸²à¸£à¸—à¸³à¸‡à¸²à¸™
- **Modal Forms**: à¸Ÿà¸­à¸£à¹Œà¸¡à¹à¸šà¸š Modal
- **Data Tables**: à¸•à¸²à¸£à¸²à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸à¸£à¹‰à¸­à¸¡à¸à¸²à¸£à¸à¸£à¸­à¸‡

## ğŸ”§ à¸à¸²à¸£à¸à¸±à¸’à¸™à¸²

### Scripts
```bash
# Development
npm run dev

# Build Production
npm run build

# Run Tests
npm run test

# Deploy Firestore Rules
npm run deploy:rules
```

### Environment Variables
```bash
# .env.local
VITE_FIREBASE_API_KEY=your-api-key
VITE_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your-project-id
VITE_FIREBASE_STORAGE_BUCKET=your-project.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=123456789
VITE_FIREBASE_APP_ID=your-app-id
```

## ğŸ“Š Performance

### Optimization Features
- **React Query Caching**: Cache à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ 5 à¸™à¸²à¸—à¸µ
- **Lazy Loading**: à¹‚à¸«à¸¥à¸”à¸„à¸­à¸¡à¹‚à¸à¹€à¸™à¸™à¸•à¹Œà¹€à¸¡à¸·à¹ˆà¸­à¸ˆà¸³à¹€à¸›à¹‡à¸™
- **Debounced Search**: à¸„à¹‰à¸™à¸«à¸²à¹à¸šà¸š Debounce
- **Pagination**: à¹à¸šà¹ˆà¸‡à¸«à¸™à¹‰à¸²à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
- **Image Optimization**: Optimize à¸£à¸¹à¸›à¸ à¸²à¸

### Monitoring
- **Error Tracking**: Console.error logging
- **Performance Monitoring**: API call timing
- **User Analytics**: Page views à¹à¸¥à¸° interactions

## ğŸ§ª Testing

### Unit Tests
```bash
npm run test
```

### Integration Tests
```bash
npm run test:integration
```

### E2E Tests
```bash
npm run test:e2e
```

## ğŸš€ Deployment

### Firebase Hosting
```bash
# Build
npm run build

# Deploy
firebase deploy
```

### Vercel
```bash
# Install Vercel CLI
npm i -g vercel

# Deploy
vercel
```

## ğŸ“š Documentation

- [API Documentation](./API_DOCUMENTATION.md)
- [Firebase Setup Guide](./FIREBASE_SETUP.md)
- [Component Library](./COMPONENT_LIBRARY.md)

## ğŸ¤ Contributing

1. Fork the repository
2. Create feature branch (`git checkout -b feature/amazing-feature`)
3. Commit changes (`git commit -m 'Add amazing feature'`)
4. Push to branch (`git push origin feature/amazing-feature`)
5. Open Pull Request

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## ğŸ“ Support

- **Email**: support@example.com
- **GitHub Issues**: [Create Issue](https://github.com/Earthondev/Hanaihang/issues)
- **Documentation**: [Read Docs](https://your-docs.com)

## ğŸ¯ Roadmap

### Phase 1 âœ… (Completed)
- [x] Admin Panel à¸à¸·à¹‰à¸™à¸à¸²à¸™
- [x] CRUD Operations à¸ªà¸³à¸«à¸£à¸±à¸š Malls à¹à¸¥à¸° Stores
- [x] Firebase Integration
- [x] Basic UI/UX

### Phase 2 ğŸš§ (In Progress)
- [ ] Public Pages (Home, Mall Detail, Store Finder)
- [ ] Geolocation Features
- [ ] Advanced Search
- [ ] Mobile App

### Phase 3 ğŸ“‹ (Planned)
- [ ] Real-time Updates
- [ ] Push Notifications
- [ ] Analytics Dashboard
- [ ] Multi-language Support

---

**Made with â¤ï¸ by Earthondev**
