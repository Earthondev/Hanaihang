# ЁЯЦ╝я╕П р╕гр╕░р╕Ър╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╣Вр╕ер╣Вр╕Бр╣Йр╕лр╣Йр╕▓р╕Зр╕кр╕гр╕гр╕Юр╕кр╕┤р╕Щр╕Др╣Йр╕▓

## р╕ар╕▓р╕Юр╕гр╕зр╕б

р╕гр╕░р╕Ър╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╣Вр╕ер╣Вр╕Бр╣Йр╕лр╣Йр╕▓р╕Зр╕кр╕гр╕гр╕Юр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Чр╕╡р╣Ир╕Кр╣Ир╕зр╕вр╣Гр╕лр╣Йр╣Бр╕нр╕Фр╕бр╕┤р╕Щр╕кр╕▓р╕бр╕▓р╕гр╕Цр╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Бр╕ер╕░р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╣Вр╕ер╣Вр╕Бр╣Йр╕Вр╕нр╕Зр╕лр╣Йр╕▓р╕Зр╕кр╕гр╕гр╕Юр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╣Др╕Фр╣Йр╕нр╕вр╣Ир╕▓р╕Зр╕Зр╣Ир╕▓р╕вр╕Фр╕▓р╕в р╣Вр╕Фр╕вр╣Гр╕Кр╣Й Firebase Storage р╣Ар╕Ыр╣Зр╕Щр╕Чр╕╡р╣Ир╣Ар╕Бр╣Зр╕Ър╣Др╕Яр╕ер╣М р╣Бр╕ер╕░р╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╣Вр╕ер╣Вр╕Бр╣Йр╕Ир╕гр╕┤р╕Зр╣Бр╕Чр╕Щр╕Хр╕▒р╕зр╕нр╕▒р╕Бр╕йр╕гр╣Гр╕Щр╕лр╕Щр╣Йр╕▓р╣Ар╕зр╣Зр╕Ър╕лр╕ер╕▒р╕Б

## ЁЯПЧя╕П р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╕гр╕░р╕Ър╕Ъ

### 1. Database Structure

р╣Ар╕Юр╕┤р╣Ир╕бр╕Яр╕┤р╕ер╕Фр╣М `logoUrl` р╣Гр╕Щ Mall interface:

```typescript
export interface Mall {
  id?: string;
  name: string;
  displayName: string;
  // ... other fields
  logoUrl?: string;      // URL р╕Вр╕нр╕Зр╣Вр╕ер╣Вр╕Бр╣Йр╕лр╣Йр╕▓р╕Зр╕Ир╕▓р╕Б Firebase Storage
  // ... other fields
}
```

### 2. Firebase Storage Structure

```
mall_logos/
тФЬтФАтФА central-rama-3.jpg
тФЬтФАтФА siam-paragon.png
тФЬтФАтФА terminal-21-asok.jpg
тФФтФАтФА the-mall-bangkapi.png
```

### 3. Components

#### `LogoUpload.tsx`
- Component р╕кр╕│р╕лр╕гр╕▒р╕Ър╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Вр╕ер╣Вр╕Бр╣Й
- р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕г drag & drop
- р╣Бр╕кр╕Фр╕З preview р╕Бр╣Ир╕нр╕Щр╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Ф
- Validation р╣Др╕Яр╕ер╣М (р╕Ыр╕гр╕░р╣Ар╕ар╕Ч, р╕Вр╕Щр╕▓р╕Ф)
- Error handling

#### `MallLogoManager.tsx`
- Admin panel р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╣Вр╕ер╣Вр╕Бр╣Йр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
- р╣Бр╕кр╕Фр╕Зр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕лр╣Йр╕▓р╕Зр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
- Gallery view р╕Вр╕нр╕Зр╣Вр╕ер╣Вр╕Бр╣Й
- р╕Бр╕▓р╕гр╕ер╕Ър╣Вр╕ер╣Вр╕Бр╣Й

## ЁЯЪА р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

### р╕кр╕│р╕лр╕гр╕▒р╕Ъ Admin

1. **р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣И Admin Panel**
   ```
   /admin
   ```

2. **р╣Др╕Ыр╕Чр╕╡р╣Ир╣Бр╕Чр╣Зр╕Ъ "ЁЯЦ╝я╕П р╣Вр╕ер╣Вр╕Бр╣Йр╕лр╣Йр╕▓р╕З"**

3. **р╣Ар╕ер╕╖р╕нр╕Бр╕лр╣Йр╕▓р╕Зр╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Вр╕ер╣Вр╕Бр╣Й**

4. **р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Вр╕ер╣Вр╕Бр╣Й**
   - р╕Др╕ер╕┤р╕Б "р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Вр╕ер╣Вр╕Бр╣Й"
   - р╣Ар╕ер╕╖р╕нр╕Бр╣Др╕Яр╕ер╣Мр╕гр╕╣р╕Ыр╕ар╕▓р╕Ю (JPG, PNG, GIF)
   - р╕Вр╕Щр╕▓р╕Фр╣Др╕бр╣Ир╣Ар╕Бр╕┤р╕Щ 5MB
   - р╕гр╕░р╕Ър╕Ър╕Ир╕░р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Др╕Ыр╕вр╕▒р╕З Firebase Storage р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤

5. **р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╣Вр╕ер╣Вр╕Бр╣Й**
   - р╕Фр╕╣р╣Вр╕ер╣Вр╕Бр╣Йр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╣Гр╕Щ Gallery
   - р╕ер╕Ър╣Вр╕ер╣Вр╕Бр╣Йр╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г
   - р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Вр╕ер╣Вр╕Бр╣Йр╣Гр╕лр╕бр╣И

### р╕кр╕│р╕лр╕гр╕▒р╕Ъ User

- р╣Вр╕ер╣Вр╕Бр╣Йр╕Ир╕░р╣Бр╕кр╕Фр╕Зр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╣Гр╕Щр╕лр╕Щр╣Йр╕▓р╣Ар╕зр╣Зр╕Ър╕лр╕ер╕▒р╕Б
- р╕Цр╣Йр╕▓р╣Др╕бр╣Ир╕бр╕╡р╣Вр╕ер╣Вр╕Бр╣Й р╕Ир╕░р╣Бр╕кр╕Фр╕Зр╕Хр╕▒р╕зр╕нр╕▒р╕Бр╕йр╕гр╣Бр╕Чр╕Щ (fallback)
- р╕Цр╣Йр╕▓р╣Вр╕ер╣Вр╕Бр╣Йр╣Вр╕лр╕ер╕Фр╣Др╕бр╣Ир╣Др╕Фр╣Й р╕Ир╕░ fallback р╕Бр╕ер╕▒р╕Ър╣Др╕Ыр╣Гр╕Кр╣Йр╕Хр╕▒р╕зр╕нр╕▒р╕Бр╕йр╕г

## ЁЯУБ р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╣Ар╕Бр╕╡р╣Ир╕вр╕зр╕Вр╣Йр╕нр╕З

### Core Files
- `src/types/mall-system.ts` - р╕нр╕▒р╕Ыр╣Ар╕Фр╕Х Mall interface
- `src/services/firebase/storage.ts` - Firebase Storage functions
- `src/components/ui/LogoUpload.tsx` - Upload component
- `src/components/admin/MallLogoManager.tsx` - Admin manager

### Updated Files
- `src/pages/Home.tsx` - р╣Бр╕кр╕Фр╕Зр╣Вр╕ер╣Вр╕Бр╣Йр╣Гр╕Щр╕лр╕Щр╣Йр╕▓р╣Бр╕гр╕Б
- `src/features/malls/components/MallCard.tsx` - р╣Бр╕кр╕Фр╕Зр╣Вр╕ер╣Вр╕Бр╣Йр╣Гр╕Щ MallCard
- `src/components/malls/MallCard.tsx` - р╣Бр╕кр╕Фр╕Зр╣Вр╕ер╣Вр╕Бр╣Йр╣Гр╕Щ MallCard (legacy)
- `src/components/forms/MallForm.tsx` - р╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕гр╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Вр╕ер╣Вр╕Бр╣Й
- `src/pages/AdminPanel.tsx` - р╣Ар╕Юр╕┤р╣Ир╕бр╣Бр╕Чр╣Зр╕Ър╣Вр╕ер╣Вр╕Бр╣Й

## ЁЯФз Technical Details

### Firebase Storage Functions

```typescript
// р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Вр╕ер╣Вр╕Бр╣Йр╕лр╣Йр╕▓р╕З
uploadMallLogo(file: File, mallId: string): Promise<string>

// р╕ер╕Ър╣Вр╕ер╣Вр╕Бр╣Йр╕лр╣Йр╕▓р╕З
deleteMallLogo(mallId: string): Promise<void>

// р╕Фр╕╢р╕З URL р╣Вр╕ер╣Вр╕Бр╣Й
getMallLogoUrl(mallId: string): Promise<string | null>
```

### File Validation

- **р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╣Др╕Яр╕ер╣М**: р╕гр╕нр╕Зр╕гр╕▒р╕Ъ JPG, PNG, GIF
- **р╕Вр╕Щр╕▓р╕Фр╣Др╕Яр╕ер╣М**: р╕кр╕╣р╕Зр╕кр╕╕р╕Ф 5MB р╕кр╕│р╕лр╕гр╕▒р╕Ър╕лр╣Йр╕▓р╕З, 2MB р╕кр╕│р╕лр╕гр╕▒р╕Ър╕гр╣Йр╕▓р╕Щ
- **р╕Кр╕╖р╣Ир╕нр╣Др╕Яр╕ер╣М**: р╣Гр╕Кр╣Й mallId р╣Ар╕Ыр╣Зр╕Щр╕Кр╕╖р╣Ир╕нр╣Др╕Яр╕ер╣М

### Error Handling

- р╣Др╕Яр╕ер╣Мр╣Др╕бр╣Ир╣Гр╕Кр╣Ир╕гр╕╣р╕Ыр╕ар╕▓р╕Ю
- р╣Др╕Яр╕ер╣Мр╣Гр╕лр╕Нр╣Ир╣Ар╕Бр╕┤р╕Щр╣Др╕Ы
- р╕Бр╕▓р╕гр╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╕ер╣Йр╕бр╣Ар╕лр╕ер╕з
- р╕Бр╕▓р╕гр╕ер╕Ър╣Др╕Яр╕ер╣Мр╕ер╣Йр╕бр╣Ар╕лр╕ер╕з
- р╣Вр╕ер╣Вр╕Бр╣Йр╣Вр╕лр╕ер╕Фр╣Др╕бр╣Ир╣Др╕Фр╣Й (fallback to text)

## ЁЯОи UI/UX Features

### Logo Display
- **р╕Вр╕Щр╕▓р╕Ф**: 16x16 (64px) р╕кр╕│р╕лр╕гр╕▒р╕Ър╕лр╕Щр╣Йр╕▓р╣Бр╕гр╕Б, 12x12 (48px) р╕кр╕│р╕лр╕гр╕▒р╕Ъ MallCard
- **Style**: rounded-2xl, shadow, border
- **Fallback**: р╕Хр╕▒р╕зр╕нр╕▒р╕Бр╕йр╕гр╣Бр╕гр╕Бр╕Вр╕нр╕Зр╕Кр╕╖р╣Ир╕нр╕лр╣Йр╕▓р╕З

### Upload Interface
- **Preview**: р╣Бр╕кр╕Фр╕Зр╕гр╕╣р╕Ыр╕Бр╣Ир╕нр╕Щр╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Ф
- **Progress**: р╣Бр╕кр╕Фр╕Зр╕кр╕Цр╕▓р╕Щр╕░р╕Бр╕▓р╕гр╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Ф
- **Validation**: р╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╕Вр╣Йр╕нр╕Ьр╕┤р╕Фр╕Юр╕ер╕▓р╕Ф
- **Remove**: р╕Ыр╕╕р╣Ир╕бр╕ер╕Ър╣Вр╕ер╣Вр╕Бр╣Й

### Admin Panel
- **Gallery View**: р╣Бр╕кр╕Фр╕Зр╣Вр╕ер╣Вр╕Бр╣Йр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
- **Selection**: р╣Ар╕ер╕╖р╕нр╕Бр╕лр╣Йр╕▓р╕Зр╣Ар╕Юр╕╖р╣Ир╕нр╣Бр╕Бр╣Йр╣Др╕В
- **Bulk Operations**: р╕ер╕Ър╕лр╕ер╕▓р╕вр╣Вр╕ер╣Вр╕Бр╣Йр╕Юр╕гр╣Йр╕нр╕бр╕Бр╕▒р╕Щ

## ЁЯФТ Security

### Firebase Storage Rules
```javascript
rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    match /mall_logos/{mallId} {
      allow read: if true;  // р╕Чр╕╕р╕Бр╕Др╕Щр╕нр╣Ир╕▓р╕Щр╣Др╕Фр╣Й
      allow write: if request.auth != null;  // р╕Хр╣Йр╕нр╕Зр╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ
    }
  }
}
```

### File Validation
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Ыр╕гр╕░р╣Ар╕ар╕Чр╣Др╕Яр╕ер╣М
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Вр╕Щр╕▓р╕Фр╣Др╕Яр╕ер╣М
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Кр╕╖р╣Ир╕нр╣Др╕Яр╕ер╣М

## ЁЯУ▒ Responsive Design

- **Mobile**: р╣Бр╕кр╕Фр╕Зр╣Вр╕ер╣Вр╕Бр╣Йр╕Вр╕Щр╕▓р╕Фр╣Ар╕ер╣Зр╕Б
- **Tablet**: р╣Бр╕кр╕Фр╕Зр╣Вр╕ер╣Вр╕Бр╣Йр╕Вр╕Щр╕▓р╕Фр╕Бр╕ер╕▓р╕З
- **Desktop**: р╣Бр╕кр╕Фр╕Зр╣Вр╕ер╣Вр╕Бр╣Йр╕Вр╕Щр╕▓р╕Фр╣Гр╕лр╕Нр╣И

## ЁЯЪА Future Enhancements

1. **Store Logos**: р╣Ар╕Юр╕┤р╣Ир╕бр╕гр╕░р╕Ър╕Ър╣Вр╕ер╣Вр╕Бр╣Йр╕гр╣Йр╕▓р╕Щр╕Др╣Йр╕▓
2. **Bulk Upload**: р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╕лр╕ер╕▓р╕вр╣Вр╕ер╣Вр╕Бр╣Йр╕Юр╕гр╣Йр╕нр╕бр╕Бр╕▒р╕Щ
3. **Image Optimization**: р╕Ыр╕гр╕▒р╕Ър╕Вр╕Щр╕▓р╕Фр╕гр╕╣р╕Ыр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
4. **CDN Integration**: р╣Гр╕Кр╣Й CDN р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Др╕зр╕▓р╕бр╣Ар╕гр╣Зр╕з
5. **Logo Templates**: р╣Ар╕Чр╕бр╣Ар╕Юр╕ер╕Хр╣Вр╕ер╣Вр╕Бр╣Йр╕кр╕│р╣Ар╕гр╣Зр╕Ир╕гр╕╣р╕Ы

## ЁЯРЫ Troubleshooting

### р╕Ыр╕▒р╕Нр╕лр╕▓р╕Чр╕╡р╣Ир╕Юр╕Ър╕Ър╣Ир╕нр╕в

1. **р╣Вр╕ер╣Вр╕Бр╣Йр╣Др╕бр╣Ир╣Бр╕кр╕Фр╕З**
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ URL р╣Гр╕Щ database
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Firebase Storage rules
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ network connection

2. **р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Др╕бр╣Ир╣Др╕Фр╣Й**
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Вр╕Щр╕▓р╕Фр╣Др╕Яр╕ер╣М
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Ыр╕гр╕░р╣Ар╕ар╕Чр╣Др╕Яр╕ер╣М
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Firebase Storage quota

3. **р╣Вр╕ер╣Вр╕Бр╣Йр╣Бр╕кр╕Фр╕Зр╕Ьр╕┤р╕Ф**
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ aspect ratio
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ file format
   - р╕ер╕нр╕Зр╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Гр╕лр╕бр╣И

## ЁЯУЮ Support

р╕лр╕▓р╕Бр╕Юр╕Ър╕Ыр╕▒р╕Нр╕лр╕▓р╕лр╕гр╕╖р╕нр╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Др╕зр╕▓р╕бр╕Кр╣Ир╕зр╕вр╣Ар╕лр╕ер╕╖р╕н р╕Бр╕гр╕╕р╕Ур╕▓р╕Хр╕┤р╕Фр╕Хр╣Ир╕нр╕Чр╕╡р╕бр╕Юр╕▒р╕Тр╕Щр╕▓

---

**р╕кр╕гр╣Йр╕▓р╕Зр╣Вр╕Фр╕в**: HaaNaiHang Development Team  
**р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕ер╣Ир╕▓р╕кр╕╕р╕Ф**: 2024  
**р╣Ар╕зр╕нр╕гр╣Мр╕Кр╕▒р╕Щ**: 1.0.0
